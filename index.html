<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--引入favicon-->
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--引入favicon-->
    <link rel="icon" type="image/x-icon" href="static/favicon.ico">
    <title>interview-mobile</title>
    <!-- 企业微信版本过低，使用import引入时会有bug -->
    <!--<script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>-->
    <!--调试工具-->
    <script src="//cdn.jsdelivr.net/npm/eruda"></script>
    <script>eruda.init();</script>
    <!--VConsole-->
    <!--<script src="http://wechatfe.github.io/vconsole/lib/vconsole.min.js?v=3.2.0"></script>
    <script>
      // init vConsole
      var vConsole = new VConsole();
      console.log('Hello world');
    </script>-->
    <!--<script src="./src/js/alloyFinger/to.js"></script>
    <script src="./src/js/alloyFinger/transform.js"></script>-->
    <!--  <script src="https://cdn.bootcss.com/lodash.js/4.17.11/lodash.js"></script>-->
    <!--<script src="https://cdn.bootcss.com/jsencrypt/3.0.0-beta.1/jsencrypt.js"></script>-->
    <style>
      html, body {
        padding: 0;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!--<p>Hello skeleton</p>-->
      <!--<p>Hello skeleton</p>-->
      <!--<p>Hello skeleton</p>-->
    </div>
    <!-- built files will be auto injected -->
  <script>
    // const p1 = Promise.resolve(111)
    // const p2 = 222
    // const p3 = new Promise((resolve, reject) => {
    //   setTimeout(reject, 1000, 444)
    //   setTimeout(resolve, 1000, 333)
    // })
    // Promise.all([p1, p2, p3])
    //   .then(res => {
    //     console.log(res)
    //   })
    //   .catch(err => {
    //     console.log(err)
    //   })

    // 传入一个已经 resolved 的 Promise 数组，以尽可能快地触发 Promise.all
    const resolvedPromisesArray = [Promise.reject(33), Promise.resolve(44)];

    const p = Promise.all(resolvedPromisesArray);
    // 立即打印 p 的值
    console.log();
    p
      .then(arr => {
      console.log('arr', arr)
    })
      .catch(err => {
      console.log('err', err)
    })
      .finally(() => {
        console.log('finally')
      })

    // 使用 setTimeout，我们可以在队列为空后执行代码
    setTimeout(() => {
      console.log("队列现在为空");
      console.log(p);
    });

    // 按顺序打印：
    // Promise { <state>: "pending" }
    // 队列现在为空
    // Promise { <state>: "fulfilled", <value>: Array[2] }

  </script>
  </body>
</html>
